# yaml-language-server: $schema=https://raw.githubusercontent.com/kometa-team/kometa/nightly/json-schema/config-schema.json
########################################################################
##                              Kometa                                ##
########################################################################
libraries:
  Movies: &MOVIES
    report_path: config/reports/movies.yml
    remove_overlays: <<REMOVEOVERLAYSMOVIES>>
    reapply_overlays: <<REAPPLYOVERLAYSMOVIES>>
    # reset_overlays: tmdb
    settings: &MOVIESSETTINGS
      save_report: true
      minimum_items: 2
      asset_directory:
      - assets/movies
      prioritize_assets: true
    template_variables:
      use_separator: false
    collection_files:
    - file: config/metadata/refresh.yml
      template_variables: &REFRESHMOVIES
        condition: all
        search_field: release
        days_number: 7
    - default: seasonal
      template_variables: &SEASONAL
        emoji_christmas: üéÑ
        schedule_christmas: range(11/01-12/31)
        url_poster_christmas: https://theposterdb.com/api/assets/69443
        trakt_list_christmas:
        - https://trakt.tv/users/nickelshits/lists/christmas-favourites?sort=released,asc
        emoji_halloween: üéÉ
        schedule_halloween: range(09/01-10/31)
        url_poster_halloween: https://theposterdb.com/api/assets/111218
        emoji_years: üéÜ
        schedule_years: range(12/26-01/05)
        emoji_valentine: üíò
        schedule_valentine: range(02/01-02/14)
        emoji_patrick: üçÄ
        schedule_patrick: range(03/01-03/17)
        emoji_thanksgiving: ü¶É
        schedule_thanksgiving: range(10/01-10/15)
        url_poster_thanksgiving: https://theposterdb.com/api/assets/112251
        emoji_easter: üê£
        schedule_easter: range(03/22-04/25)
        url_poster_easter: https://theposterdb.com/api/assets/60970
        emoji_black_history: üñ§
        url_poster_black_history: https://theposterdb.com/api/assets/686790
        name_black_history: Black History Month
        collection_section: '01_00'
        visible_shared: true
        visible_home: true
        visible_library: true
        sync_mode: sync
        run_again: true
        delete_not_scheduled: true
        exclude:
        - aapi
        - disabilities
        - independence
        - memorial
        - veteran
    - default: imdb
      template_variables: &IMDBMOVIES
        url_poster_top: https://theposterdb.com/api/assets/294454
        summary_top: Collection of Top 250 Movies which are currently available on NickflixTV
        collection_section: '02_20'
        sync_mode_top: sync
        use_lowest: false
        use_popular: false
    - default: oscars
      template_variables: &OSCARS
        url_poster_best_picture: https://theposterdb.com/api/assets/589966
        sync_mode_oscars: sync
        collection_section: '02_20'
        use_best_director: false
        use_year_collections: false
    - default: streaming
      template_variables: &STREAMINGMOVIES
        url_poster_appletv: https://theposterdb.com/api/assets/168823
        name_appletv: Apple TV+ Movies
        collection_section: '02_25'
        region: ca
    - default: universe
      template_variables: &UNIVERSEMOVIES
        url_poster_marvel: https://theposterdb.com/api/assets/203027
        url_poster_mcu: https://theposterdb.com/api/assets/162885
        url_poster_dcu: https://theposterdb.com/api/assets/171350
        url_poster_wizard: https://theposterdb.com/api/assets/166278
        url_poster_conjuring: https://theposterdb.com/api/assets/5437
        url_poster_star: https://theposterdb.com/api/assets/70805
        url_poster_trek: https://theposterdb.com/api/assets/48818
        url_poster_fast: https://theposterdb.com/api/assets/10036
        url_poster_middle: https://theposterdb.com/api/assets/1716
        url_poster_avp: https://theposterdb.com/api/assets/43455
        url_poster_rocky: https://theposterdb.com/api/assets/416179
        url_poster_xmen: https://theposterdb.com/api/assets/32304
        url_poster_mummy: https://theposterdb.com/api/assets/129405
        name_middle: The Middle Earth
        use_askew: false
        collection_section: '05_05'
        minimum_items: 1
    - default: tautulli
      template_variables: &TAUTULLIMOVIES
        url_poster_watched: https://theposterdb.com/api/assets/345270
        name_watched: Trending on NickflixTV
        summary_watched: Collection of Movies trending on NickflixTV in the last 30 days
        list_days: 30
        list_size: 10
        list_minimum: 1
        use_popular: false
        collection_section: '01_10'
        sync_mode_watched: sync
    - file: config/metadata/movies.yml
    - file: config/metadata/genres.yml
    - file: config/metadata/studios.yml
    - file: config/metadata/suggestions.yml
    overlay_files:
    - default: streaming
      template_variables: &STREAMINGOVERLAYMOVIES
        region: ca
        horizontal_align: center
        horizontal_offset: 0
        vertical_align: bottom
        vertical_offset: 0
        back_radius: 0
        back_width: 1000
        back_color: '#000000'
    - default: studio
      template_variables:
        horizontal_align: center
        vertical_align: top
    - default: video_format
      template_variables: &VIDEOFORMATOVERLAY
        horizontal_align: center
        horizontal_offset: 0
        vertical_offset: 10%
        vertical_align: top
        back_width: 1000
        back_radius: 0
        back_color: '#B91C1CB0'
        text_telesync: Poor Quality
        text_cam: Poor Quality
        use_remux: false
        use_bluray: false
        use_web: false
        use_hdtv: false
        use_dvd: false
        use_sdtv: false
    - default: resolution
      template_variables:
        use_edition: false
    - default: ratings
      template_variables: &RATINGSOVERLAY
        rating1: user
        rating1_image: rt_tomato
        rating1_font_size: 63
        rating2: critic
        rating2_image: imdb
        rating2_font_size: 70
        rating3: audience
        rating3_image: tmdb
        rating3_font_size: 70
        horizontal_position: right
    - folder: config/metadata/overlays/movies
    - default: ribbon
      template_variables: &RIBBONOVERLAY
        style: yellow
        use_oscars_director: false
        use_golden_director: false
        use_cannes: false
        use_venice: false
        use_berlinale: false
        use_sundance: false
        use_spirit: false
        use_cesar: false
        use_letterboxd: false
        use_rottenverified: false
        use_metacritic: false
        use_common: false
        use_razzie: false
    operations: &MOVIESOPERATIONS
      split_duplicates: false
      assets_for_all: true
      mass_user_rating_update: mdb_tomatoes
      mass_critic_rating_update: imdb
      mass_audience_rating_update: tmdb
      delete_collections:
        configured: false
        managed: true
        less: 1
        ignore_empty_smart_collections: true
      mass_genre_update:
      - tmdb
      - imdb
      - tvdb
      mass_content_rating_update:
      - mdb_commonsense
      - omdb
      mass_studio_update:
      - tmdb
      mass_originally_available_update:
      - tmdb
      - tvdb
      - omdb
      mass_imdb_parental_labels: none
      # mass_poster_update: tmdb

  TV Shows:
    report_path: config/reports/shows.yml
    remove_overlays: <<REMOVEOVERLAYSSHOWS>>
    reapply_overlays: <<REAPPLYOVERLAYSSHOWS>>
    # reset_overlays: tmdb
    settings: &SHOWSSETTINGS
      save_report: true
      minimum_items: 1
      asset_directory:
      - assets/shows
      prioritize_assets: true
    template_variables:
      use_separator: false
    collection_files:
    - file: config/metadata/refresh.yml
      template_variables: &REFRESHSHOWS
        condition: all
        search_field: episode_air_date
        days_number: 7
    - default: imdb
      template_variables: &IMDBSHOWS
        url_poster_top: https://theposterdb.com/api/assets/294454
        summary_top: Collection of Top 250 TV Shows which are currently available on NickflixTV
        collection_section: '02_20'
        sync_mode_top: sync
        use_lowest: false
        use_popular: false
    - default: streaming
      template_variables: &STREAMINGSHOWS
        url_poster_appletv: https://theposterdb.com/api/assets/168823
        name_appletv: Apple TV+ Shows
        collection_section: '02_25'
        region: ca
    - default: tautulli
      template_variables: &TAUTULLISHOWS
        url_poster_watched: https://theposterdb.com/api/assets/345270
        name_watched: Trending on NickflixTV
        summary_watched: Collection of TV Shows trending on NickflixTV in the last 30 days
        list_days: 30
        list_size: 10
        list_minimum: 1
        use_popular: false
        collection_section: '01_05'
        sync_mode_watched: sync
    - default: trakt
      template_variables: &TRAKTSHOWS
        url_poster_trending: https://theposterdb.com/api/assets/396719
        name_trending: Trending on Trakt
        summary_trending: Collection of TV Shows trending on Trakt in the last 30 days
        limit: 50
        sync_mode: sync
        use_collected: false
        use_popular: false
        use_recommended: false
        use_watched: false
        collection_section: '01_10'
    - file: config/metadata/networks.yml
    - file: config/metadata/suggestions_shows.yml
    overlay_files:
    - default: studio
      template_variables:
        horizontal_align: center
        vertical_align: top
    - default: streaming
      template_variables: &STREAMINGOVERLAYSHOWS
        region: ca
        horizontal_align: center
        horizontal_offset: 0
        vertical_align: top
        vertical_offset: 0
        back_height: 135
        back_radius: 0
        back_width: 1000
        back_color: '#000000'
    - default: runtimes
      template_variables: &RUNTIMESOVERLAYSHOWS
        builder_level: episode
        text: ''
        horizontal_align: center
        vertical_align: bottom
    - default: resolution
      template_variables:
        use_edition: false
    - default: resolution
      template_variables:
        builder_level: episode
    - default: resolution
      template_variables:
        builder_level: season
    - default: ratings
      template_variables: *RATINGSOVERLAY
    - folder: config/metadata/overlays/shows
    - default: ribbon
      template_variables: *RIBBONOVERLAY
    operations: &SHOWSOPERATIONS
      split_duplicates: false
      assets_for_all: true
      delete_collections:
        configured: false
        managed: true
        less: 1
        ignore_empty_smart_collections: true
      mass_user_rating_update: mdb_tomatoes
      mass_critic_rating_update: imdb
      mass_audience_rating_update: tmdb
      mass_genre_update:
      - tmdb
      - imdb
      - tvdb
      mass_content_rating_update:
      - mdb_commonsense
      - omdb
      mass_studio_update:
      - tmdb
      mass_originally_available_update:
      - tmdb
      - tvdb
      - omdb
      mass_episode_critic_rating_update: imdb
      mass_episode_audience_rating_update: tmdb
      mass_imdb_parental_labels: none
      # mass_poster_update: tmdb

  'Retro: TV Shows':
    report_path: config/reports/shows.yml
    remove_overlays: <<REMOVEOVERLAYSRETROSHOWS>>
    reapply_overlays: <<REAPPLYOVERLAYSRETROSHOWS>>
    # reset_overlays: tmdb
    settings: *SHOWSSETTINGS
    template_variables:
      use_separator: false
    collection_files:
    - file: config/metadata/refresh.yml
    - default: imdb
      template_variables: *IMDBSHOWS
    - default: streaming
      template_variables: *STREAMINGSHOWS
    - default: tautulli
      template_variables: *TAUTULLISHOWS
    - file: config/metadata/networks.yml
    overlay_files:
    - default: studio
      template_variables:
        horizontal_align: center
        vertical_align: top
    - default: streaming
      template_variables: *STREAMINGOVERLAYSHOWS
    - default: runtimes
      template_variables: *RUNTIMESOVERLAYSHOWS
    - default: resolution
      template_variables:
        use_edition: false
    - default: resolution
      template_variables:
        builder_level: episode
    - default: resolution
      template_variables:
        builder_level: season
    - default: ribbon
      template_variables: *RIBBONOVERLAY
    operations: *SHOWSOPERATIONS

  'Retro: Movies': *MOVIES
  'Kids Movies': *MOVIES
  'Retro: Kids Movies': *MOVIES

playlist_files:
- default: playlist
  template_variables:
    libraries: Movies, TV Shows

settings:
  run_order:
  - operations
  - metadata
  - collections
  - overlays
  cache: true
  cache_expiration: 60
  asset_folders: true
  asset_depth: 1
  asset_directory:
  - config/assets/movies
  - config/assets/shows
  create_asset_folders: true
  prioritize_assets: true
  dimensional_asset_rename: false
  download_url_assets: true
  show_missing_season_assets: false
  show_missing_episode_assets: false
  show_asset_not_needed: false
  sync_mode: append
  minimum_items: 1
  default_collection_order: release
  delete_below_minimum: true
  delete_not_scheduled: true
  run_again_delay: 15
  missing_only_released: false
  only_filter_missing: false
  show_unmanaged: true
  show_unconfigured: true
  show_filtered: false
  show_unfiltered: false
  show_options: false
  show_missing: false
  show_missing_assets: true
  save_report: false
  tvdb_language: eng
  ignore_ids:
  ignore_imdb_ids:
  item_refresh_delay: 0
  playlist_sync_to_users: all
  playlist_exclude_users:
  playlist_report: false
  verify_ssl: true
  custom_repo:
  overlay_artwork_filetype: webp_lossy
  overlay_artwork_quality: 90
webhooks:
  error: gotify
  version: gotify
  run_start: gotify
  run_end: gotify
  changes: gotify
  delete:
gotify:
  url: <<GOTIFYURL>>
  token: <<GOTIFYTOKEN>>
plex:
  url: <<PLEXURL>>
  token: <<PLEXTOKEN>>
  timeout: 60
  db_cache: 2048
  clean_bundles: true
  empty_trash: true
  optimize: true
  verify_ssl: true
tmdb:
  apikey: <<TMDBAPIKEY>>
  language: en
  cache_expiration: 60
  region: CA
omdb:
  apikey: <<OMDBAPIKEY>>
  cache_expiration: 60
mdblist:
  apikey: <<MDBLISTAPIKEY>>
  cache_expiration: 60
tautulli:
  url: <<TAUTULLIURL>>
  apikey: <<TAUTULLIAPIKEY>>
radarr:
  url: <<RADARRURL>>
  token: <<RADARRTOKEN>>
  add_missing: false
  add_existing: false
  upgrade_existing: false
  monitor_existing: false
  root_folder_path: <<RADARRROOTFOLDERPATH>>
  monitor: true
  availability: announced
  quality_profile: <<RADARRQUALITYPROFILE>>
  tag: kometa
  search: false
  radarr_path:
  plex_path:
  ignore_cache: false
sonarr:
  url: <<SONARRURL>>
  token: <<SONARRTOKEN>>
  add_missing: false
  add_existing: false
  upgrade_existing: false
  monitor_existing: false
  root_folder_path: <<SONARRROOTFOLDERPATH>>
  monitor: all
  quality_profile: <<SONARRQUALITYPROFILE>>
  language_profile: English
  series_type: standard
  season_folder: true
  tag: kometa
  search: false
  cutoff_search: false
  sonarr_path:
  plex_path:
  ignore_cache: false
trakt:
  client_id: <<TRAKTCLIENTID>>
  client_secret: <<TRAKTCLIENTSECRET>>
  pin: <<TRAKTPIN>>
  authorization:
    access_token:
    token_type:
    expires_in:
    refresh_token:
    scope: public
    created_at:
  force_refresh:
